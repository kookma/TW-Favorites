author: Mohammad Rahmani
core-version: >=5.1.23
description: Create favorites, organize in folders
list: readme license history
name: Favorites
plugin-type: plugin
source: https://github.com/kookma/TW-Favorites
tags: 
title: $:/plugins/kookma/favorites
type: application/json
version: 4.8.2

{"tiddlers":{"$:/plugins/kookma/favorites/history":{"type":"text/vnd.tiddlywiki","text":"Full change log  https://kookma.github.io/TW-Favorites/#ChangeLog\n\n* ''4.8.1''  -- 2022.12.17 -- update to TW 5.2.4, customizable item link title\n* ''4.7.9''  -- 2022.11.04 -- bug fixes in slider button and toolbar button\n* ''4.7.6''  -- 2022.10.20 -- create sidebar tab from folder\n* ''4.7.4''  -- 2022.10.07 -- folder button modifiers and draggable handle (secret keys) added  \n* ''4.7.1''  -- 2022.08.25 -- folders are highly improved, export as bundle, special viewtemplate, button modifiers. \n* ''4.6.5''  -- 2022.08.14 -- updated to Tiddlywiki 5.2.3 and restructured for performance. \n* ''4.5.1''  -- 2020.05.16 -- new svg icon for toolbar and correction for svg color\n* ''4.5.0''  -- 2020.04.23 -- updated to Tiddlywiki 5.1.23 and fixed few issues\n* ''4.3.0''  -- 2019.11.19 -- correct caption when caption filed has wikitext\n* ''4.0.0''  -- 2019.12.17 -- a rewrite of old favorite plugin\n* ''3.0.12'' -- 2018.11.01 -- released by Mohammad Rahmani\n* ''3.0.5'' -- 2017.08.03 -- released by Andrew Harrison"},"$:/plugins/kookma/favorites/images/heart":{"type":"text/vnd.tiddlywiki","text":"<svg class='tc-image-favorites-button tc-image-button'width=22pt viewBox='0 0 548.963 548.963'height=22pt>\n  <path d='M398.327 30.737c-50.875 0-95.875 31.151-123.452 69.542-27.577-38.391-72.577-69.542-123.453-69.542-43.452 0-85.484 19.04-114.168 51.677-55.221 62.834-43.085 166.366-2.375 233.454 37.014 60.992 93.832 109.188 151.972 149.303 28.091 19.383 57.387 37.902 88.024 53.055 99.891-47.723 210.791-127.301 255.975-231.268 14.211-32.706 20.074-69.187 17.54-104.126-5.802-80.081-55.673-152.095-150.063-152.095zm76.397 231.826c-29.517 67.915-101.28 134.971-198.998 186.739-16.542-9.498-34.248-20.795-54.119-34.504-64.682-44.627-107.394-86.15-134.407-130.674-15.6-25.704-25.049-57.908-25.931-88.342-.612-21.188 2.699-51.047 21.958-72.963 16.996-19.333 42.491-30.881 68.202-30.881 31.046 0 58.452 22.754 73.752 44.045 11.5 16.004 30 43.856 49.707 43.856s38.208-27.852 49.707-43.856c15.294-21.291 42.699-44.045 73.752-44.045 26.77 0 47.24 8.36 62.577 25.557 15.013 16.824 24.4 41.598 26.438 69.756 1.841 25.569-2.644 52.313-12.638 75.312z'/>\n"},"$:/plugins/kookma/favorites/images/stack":{"caption":"465-stackoverflow","library":"IcoMoon Free","library_version":"13-Mar-2016","tags":"$:/tags/Image","type":"text/vnd.tiddlywiki","text":"<svg width=22pt class=\"tc-image-icm-465-stackoverflow tc-image-button\"viewBox=\"0 0 16 16\"height=22pt><path d=\"M16 10v6h-16v-6h2v4h12v-4zM3 11h10v2h-10zM3.237 8.835l0.433-1.953 9.763 2.164-0.433 1.953zM4.37 4.821l0.845-1.813 9.063 4.226-0.845 1.813zM15.496 5.648l-1.218 1.587-7.934-6.088 0.88-1.147h0.91z\">"},"$:/plugins/kookma/favorites/license":{"type":"text/vnd.tiddlywiki","text":"Distributed under an MIT license.\n\n\"\"\"\nCopyright (c) 2018-2022 [[Mohammad Rahmani|https://github.com/kookma]]\nCopyright (c) 2017 [[Andrew Harrison|https://github.com/t5a]]\n\"\"\"\n\n<<<\nPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n<<<"},"$:/plugins/kookma/favorites/macros/combo-search":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\define standardSearch()[all[tiddlers+shadows]tag<foldertagTid>get[list]enlist-input[]search<searchTerms>]\n\\define filterSearch()[all[tiddlers+shadows]tag<foldertagTid>get[list]enlist-input[]]+[subfilter<searchTerms>]\n\\define displayResult(filter)\n<$set filter=<<__filter__>>name=itemsFound>\n<$list filter='[enlist<itemsFound>nth[]]'emptyMessage='//  no result for this folder//<br>'variable=null>\n\n<$list filter='[subfilter<folders>]'variable=folder>\n<!---->\n<$list filter='[list<folder>]:intersection[enlist<itemsFound>]:and[nth[]]'>\n<div class=kk-fav-title><$transclude tiddler=<<folder>>field=caption/></div>\n</$list>\n<!---->\n<$list filter='[list<folder>]:intersection[enlist<itemsFound>]'>\n<span class=kk-fav-left-gap><$link to=<<item>>/></span><br>\n</$list>\n</$list>\n\n</$list>\n\n\\end\n\\define combo-search(stateTiddler)\n<$let stateTid={{{[[$:/temp/favorites/combosearch/]addsuffix[$stateTiddler$]]}}}pattern=^\\[>\t \n<!---->\n<div class='tc-search tc-advanced-search'>\n<$keyboard actions='<$action-deletetiddler $tiddler=<<stateTid>>/>'key=escape>\n<$edit-text tiddler=<<stateTid>>tag=input default=''placeholder='search by keyword or filter'class=sltext/>\t\t\t\n</$keyboard>\n\n<!---->\n<$reveal state=<<stateTid>>text=''type=nomatch>\n<$button actions='<$action-deletetiddler $tiddler=<<stateTid>>/>'class=tc-btn-invisible>\n{{$:/core/images/close-button}}\n</$button>\n\n<$set name=searchTerms tiddler=<<stateTid>>field=text>\n\n<$list filter='[<searchTerms>trim[]minlength[3]nth[]]'emptyMessage='<br>//<small>Search text too short'variable=null>\n\n<div class=tc-search-results>\n<$list filter='[<searchTerms>regexp<pattern>then[filterSearch]else[standardSearch]]'variable=searchMethod>\n<$reveal type=nomatch text=<<searchMethod>>default=filterSearch>\n<$macrocall filter=<<standardSearch>>$name=displayResult/>\n</$reveal>\n<$reveal type=match text=<<searchMethod>>default=filterSearch>\n<$macrocall filter=<<filterSearch>>$name=displayResult/>\n</$reveal>\n\n</$list>\n</div>\n</$list></$set>\n</$reveal>\n</div>\n\n\\end"},"$:/plugins/kookma/favorites/macros/definition":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\define folderpath()$:/favorites/folders\n\\define foldertagTid()$:/tags/Favorites/Folder\n\\define folders()[all[tiddlers+shadows]tag[$(foldertagTid)$]]\n\\define recentlyAdded()$:/favorites/folders/recent\n\\define temppath()$:/temp/favorites\n\\define selectionTid()$(temppath)$/selection\n\\define tempNewTid()$(temppath)$/new-folder\n\\define temppopupTid()$(temppath)$/delete-confirm\n\\define tempreorderTid()$(temppath)$/reorder\n\\define saveTid()$(temppath)$/savetitle\n\\define sliderRevealState()$(temppath)$/slider/$(currentFolder)$\n\\define stateFolderEdit()$(temppath)$/folder-editor/$(currentFolder)$\n\\define tempFolderTextEdit()$(temppath)$/folder-editor/edit-text/$(currentFolder)$\n\\define itemLinkTitleinTree()$:/config/favorites/ItemLinkTitle\n\\define newFolderPosion()$:/config/favorites/NewFolderPosition\n\\define openFolderOnDrop()$:/config/favorites/FolderOpenOnDrop\n\\define expandFolderModifierKey()$:/config/favorites/modifierkey/expand-folder\n\\define openFolderModifierKey()$:/config/favorites/modifierkey/open-folder\n\\define openFolderItemsModifierKey()$:/config/favorites/modifierkey/open-folder-items\n\\define sidebarTabfromFolderModifierKey()$:/config/favorites/modifierkey/sidebar-tab-from-folder"},"$:/plugins/kookma/favorites/macros/drag-n-drop":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define drop-actions()\n<$reveal default=\"\"text={{{[<actionTiddler>listed[]tag<foldertagTid>]}}}type=nomatch>\n<$let oldFolder={{{[<actionTiddler>listed[]tag<foldertagTid>!match<currentFolder>nth[]]}}}>\n<$action-listops $tiddler=<<oldFolder>>$subfilter=\"-[<actionTiddler>]\"$field=list/>\n</$let>\n</$reveal>\n<!---->\n<$action-listops $tiddler=<<currentFolder>>$subfilter=\"+[insertbefore:currentTiddler<actionTiddler>]\"/>\n<$list filter=\"[<openFolderOnDrop>get[text]match[yes]]\"variable=null>\n<$action-setfield $tiddler=<<sliderRevealState>>text=open/>\n\n\\end\n\\define placeholder()<div class=tc-droppable-placeholder>&nbsp;\n\\define droppable-item-after-last-item()<$droppable actions=<<drop-actions>>enable=<<tv-enable-drag-and-drop>>><<placeholder>><div style=margin-top:-6px;margin-bottom:-6px;>&nbsp;\n\\define display-folder-is-empty()\n<$droppable actions=<<drop-actions>>enable=<<tv-enable-drag-and-drop>>>\n<<placeholder>>\n//Folder is empty//\n\n\\end"},"$:/plugins/kookma/favorites/macros/fav-tree":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define fav-tree(status:closed)\n<div class=kk-fav-row>\n<!---->\n<$reveal type=nomatch state=<<sliderRevealState>>text=open default=\"$status$\"tag=div>\n    <$button class=\"tc-btn-invisible tc-tiddlylink\"actions=<<slider-btn-actions open>>dragFilter=\"[list<currentFolder>]\">\n\t\t   {{$:/core/images/right-arrow}}\n    </$button>\n</$reveal>\n<$reveal type=match state=<<sliderRevealState>>text=open default=\"$status$\"tag=div>\n    <$button class=\"tc-btn-invisible tc-tiddlylink\"actions=<<slider-btn-actions closed>>dragFilter=\"[list<currentFolder>]\">\n\t\t   {{$:/core/images/down-arrow}}\n    </$button>\n</$reveal>\n<!---->\n<$list filter=\"[<fv-config-buttons>match[yes]]:filter[<currentFolder>!match<recentlyAdded>]\"emptyMessage=\"\n{{||$:/plugins/kookma/favorites/templates/folder-title-view}}\"variable=null>\n{{||$:/plugins/kookma/favorites/templates/folder-title-edit}}\n{{||$:/plugins/kookma/favorites/templates/folder-clear-btn}}\n{{||$:/plugins/kookma/favorites/templates/folder-rename-btn}}\n{{||$:/plugins/kookma/favorites/templates/folder-delete-btn}}\n{{||$:/plugins/kookma/favorites/templates/folder-reorder-btn}}\n</$list>\n</div>\n<!---->\n<$reveal type=match state=<<sliderRevealState>>text=open default=\"$status$\"tag=div class=kk-fav-folder-content>\n<$list filter=\"[list<currentFolder>]\"template=\"$:/plugins/kookma/favorites/templates/list-item\"emptyMessage=<<display-folder-is-empty>>/>\n<!---->\n<<droppable-item-after-last-item>>\n\n\\end\n\\define slider-btn-actions(status)\n<$list filter=\"[<modifier>match[normal]]\">\n<$action-setfield $tiddler=<<sliderRevealState>>text=\"$status$\"/>\n</$list>\n\n<$list filter=\"[<modifier>match{$(expandFolderModifierKey)$}]\">\n<$action-deletetiddler $filter=\"[prefix[$(temppath)$/slider/]]\"/>\n<$action-setfield $tiddler=\"$:/temp/favorites/slider/$:/favorites/folders/recent\"text=closed/>\n<$action-setfield $tiddler=<<sliderRevealState>>text=open/>\n</$list>\n\n<$list filter=\"[<modifier>match{$(openFolderModifierKey)$}]\">\n<$action-navigate $to=<<currentFolder>>$scroll=yes/>\n</$list>\n\n<$list filter=\"[<modifier>match{$(openFolderItemsModifierKey)$}]\">\n<$action-setfield $tiddler=<<sliderRevealState>>text=open/>\n<$list filter=\"[list<currentFolder>reverse[]]\">\n<$action-navigate $to={{!!title}}/>\n</$list>\n</$list>\n\n<$list filter=\"[<modifier>match{$(sidebarTabfromFolderModifierKey)$}]\">\n<$action-createtiddler $basetitle={{{[<currentFolder>get[title]addsuffix[-as-sidebar-tab]]}}}caption={{{[<currentFolder>get[caption]]}}}tags=\"$:/tags/SideBar\"text=\"{{$(currentFolder)$||$:/plugins/kookma/favorites/ui/ViewTemplate/Folder}}\"/>\n</$list>\n\n\\end"},"$:/plugins/kookma/favorites/macros/folder-create":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define add-folder-add-actions()\n\\import $:/plugins/kookma/favorites/macros/definition\n\\define add_folder_top_folderlist()<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"[<saveTid>get[text]] +[putfirst[]]\"$field=list/>\n\\define add_folder_bottom_folderlist()<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"[<saveTid>get[text]]\"$field=list/>\n<$list filter=\"[<tempNewTid>get[text]trim[]!is[blank]]\"variable=null>\n<$let folderName={{{[<tempNewTid>get[text]]}}}saveTitle={{{[<saveTid>get[text]]}}}setFolderPos={{{[<newFolderPosion>get[text]match[yes]then[add_folder_top_folderlist]else[add_folder_bottom_folderlist]]}}}>\n  <$action-createtiddler $basetitle=<<unusedtitle baseName:\"$(folderpath)$/f\"separator:- template:$basename$$separator$$count:3$>>$savetitle=<<saveTid>>caption=<<folderName>>tags=<<foldertagTid>>/>\n\t\n  <$macrocall $name=<<setFolderPos>>/>\n</$let>\n<!---->\n<$action-deletetiddler $tiddler=<<tempNewTid>>/>\n\n\\end\n\\define add-folder-cancel-actions()<$action-deletetiddler $tiddler=<<tempNewTid>>/>\n\\define new-fav-folder-inputbox()\n<$keyboard actions=<<add-folder-add-actions>>key=enter>\n<$keyboard actions=<<add-folder-cancel-actions>>key=escape>\n<$edit-text tag=input tiddler=<<tempNewTid>>default=\"\"placeholder=\"enter a folder name\"class=kk-fav-input/>\n</$keyboard>\n\n\\end\n\\define new-fav-folder-cancelButton()\n<$list filter=\"[<tempNewTid>get[text]minlength[1]nth[]]\">\n<$button tooltip=\"clear input box\"class=\"tc-btn-invisible kk-fav-btn-mini\"actions=<<add-folder-cancel-actions>>>\n{{$:/core/images/close-button}}\n</$button>\n\n\\end\n\\define new-fav-folder-addButton()\n<$button tooltip=\"create new folder\"actions=<<add-folder-add-actions>>disabled={{{[<tempNewTid>get[text]!is[blank]then[no]else[yes]]}}}class=tc-btn-invisible>\n{{$:/core/images/new-button}}\n\n\\end"},"$:/plugins/kookma/favorites/macros/folder-delete":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define folder-delete-actions()\n<$wikify text='Do you wish to delete \"{{$(currentFolder)$!!caption}}\" folder ($(currentFolder)$)?'name=warning-message>\n<$action-confirm $message=<<warning-message>>>\n\t<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"-[[$(currentFolder)$]]\"$field=list/>\n\t<$action-deletetiddler $tiddler=<<currentFolder>>/>\n\t</$action-confirm>\"\"\"\n</$wikify>\t\n\\end"},"$:/plugins/kookma/favorites/macros/folder-rename":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define rename-perform-actions()\n<$list filter=\"[<tempFolderTextEdit>get[text]trim[]minlength[1]]\"variable=newTitle>\n<$action-setfield $tiddler=<<currentFolder>>$value=<<newTitle>>$field=caption/>\n<$action-deletetiddler $tiddler=<<tempFolderTextEdit>>/>\n<$action-deletetiddler $tiddler=<<stateFolderEdit>>/>\n\n\\end\n\\define rename-cancel-actions()\n<$action-deletetiddler $tiddler=<<tempFolderTextEdit>>/>\n<$action-deletetiddler $tiddler=<<stateFolderEdit>>/>\n\\end"},"$:/plugins/kookma/favorites/macros/folder-reorder":{"code-body":"yes","tags":"$:/tags/Favorites/Macro/Folder","type":"text/vnd.tiddlywiki","text":"\\define folder-reorder()\n<$let selectedFolder={{{[<tempreorderTid>get[text]]}}}disabledStatus={{{[<selectedFolder>tag<foldertagTid>nth[]then[no]else[yes]]}}}>\n<div class=kk-fav-title>\n<$list filter=\"[<disabledStatus>match[no]]\"emptyMessage=\"//First select a folder\"variable=null>\n<$transclude tiddler=<<selectedFolder>>field=caption/>\n</$list>\n</div>\n\n<$button tooltip=\"move down\"disabled=<<disabledStatus>>>{{$:/core/images/down-arrow}}\n<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"+[move:1<selectedFolder>]\"$field=list/>\n</$button>\n<$button tooltip=\"move up\"disabled=<<disabledStatus>>>{{$:/core/images/up-arrow}}\n<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"+[move:-1<selectedFolder>]\"$field=list/>\n</$button>\n<$button tooltip=\"put first\"disabled=<<disabledStatus>>>{{$:/core/images/fold-button}}\n<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"-[<selectedFolder>] [<selectedFolder>] +[putfirst:1[]]\"$field=list/>\n</$button>\n<$button tooltip=\"put last\"disabled=<<disabledStatus>>>{{$:/core/images/unfold-button}}\n<$action-listops $tiddler=<<foldertagTid>>$subfilter=\"-[<selectedFolder>] [<selectedFolder>putlast:1[]]\"$field=list/>\n</$button>\n<$button tooltip=\"sort downwards\"disabled=<<disabledStatus>>>{{$:/core/images/unfold-all-button}}\n<$action-listops $tiddler=<<foldertagTid>>$field=list $subfilter=+[sort[caption]]/>\n</$button>\n<$button tooltip=\"sort upwards\"disabled=<<disabledStatus>>>{{$:/core/images/fold-all-button}}\n<$action-listops $tiddler=<<foldertagTid>>$field=list $subfilter=+[!sort[caption]]/>\n</$button>\n\n\\end"},"$:/plugins/kookma/favorites/manager/filterbuttons/exptab-bundle":{"code-body":"yes","list-after":"$:/plugins/kookma/favorites/manager/filterbuttons/exptab-export","tags":"$:/tags/Favorites/Manager/FilterButton","type":"text/vnd.tiddlywiki","text":"\\define bundle-folder()\n<$button tooltip=\"export folder and tiddlers as bundle\"class=tc-btn-invisible> {{$:/plugins/kookma/favorites/images/stack}}\n<$action-sendmessage $message=tm-download-file $param=\"$:/plugins/kookma/favorites/templates/export-bundle\"exportFilter=<<exportFilter>>folderpath=<<folderpath>>foldertags=<<foldertagTid>>foldercaption={{{[<selection>get[caption]addprefix[Exported ]]:else[[Exported favorites]]}}}filename=Favorites_Folder_Exported.json/>\n\n\\end\n<$reveal type=nomatch text=<<resultCount>>default=0>\n<$set filter=<<selectionFilter>>name=exportFilter>\n<<bundle-folder>>\n</$set>\n"},"$:/plugins/kookma/favorites/manager/filterbuttons/exptab-delete":{"code-body":"yes","tags":"$:/tags/Favorites/Manager/FilterButton","type":"text/vnd.tiddlywiki","text":"<$reveal type=nomatch text=<<resultCount>>default=0>\n<$button popup=<<qualify $(temppopupTid)$>>tooltip=\"delete all tiddlers in this folder\"class=tc-btn-invisible>\n{{$:/core/images/delete-button}}\n</$button>\n</$reveal>\n\n<$reveal state=<<qualify $(temppopupTid)$>>type=popup position=belowleft animate=yes>\n<div class=tc-block-dropdown-wrapper>\n<div class=\"tc-block-dropdown tc-edit-type-dropdown\">\n<div class=tc-dropdown-item-plain>\nAre you sure you wish to delete permanently <<resultCount>> tiddler(s)?\n</div>\n<div class=tc-dropdown-item-plain>\n<$button class=\"tc-button tt-button\"> delete\n   <$action-deletetiddler $filter=<<selectionFilter>>/>\n   <$list filter=\"[<selectionType>match[singleFolder]then<selection>]:else[<foldertagTid>tagging[]]\">\n      <$action-deletefield $field=list/>\n   </$list>\n</$button>\n</div>\n</div>\n</div>\n"},"$:/plugins/kookma/favorites/manager/filterbuttons/exptab-export":{"code-body":"yes","tags":"$:/tags/Favorites/Manager/FilterButton","type":"text/vnd.tiddlywiki","text":"<$reveal type=nomatch text=<<resultCount>>default=0>\n<$set filter=<<selectionFilter>>name=exportFilter>\n<$macrocall $name=exportButton exportFilter=<<exportFilter>>lingoBase=\"$:/language/Buttons/ExportTiddlers/\"baseFilename=favorites/>\n</$set>\n"},"$:/plugins/kookma/favorites/manager/tabs/export":{"caption":"Export","list-after":"$:/plugins/kookma/favorites/manager/tabs/search","tags":"$:/tags/Favorites/Manager","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\define lingo-base()$:/language/Search/\nExport or delete favorite tiddlers\n\n<$let selection={{{[<selectionTid>get[text]]}}}selectionType={{{[<selection>match[allFavorites]then[allFavorites]else[singleFolder]]}}}allFavoritesFilter=\"[all[tiddlers+shadows]tag<foldertagTid>get[list]enlist-input[]]\"singleFolderFilter=\"[list<selection>]\"selectionFilter={{{[<selectionType>match[singleFolder]then<singleFolderFilter>else<allFavoritesFilter>]}}}resultCount={{{[subfilter<selectionFilter>count[]]}}}>\n\n<div class=\"tc-search tc-advanced-search\">\n<$select tiddler=<<selectionTid>>field=text default=message class=kk-fav-select>\n<option value=message disabled selected>Select a folder</option>\n<$list filter=<<folders>>>\n<option value={{!!title}}><$transclude field=caption/></option>\n</$list>\n<$list filter=\"[subfilter<folders>count[]!match[0]]\">\n<option disabled>&#9472;&#9472;&#9472;&#9472;&#9472;</option>\n<option value=allFavorites class=kk-fav-title>All favorite items</option>\n</$list>\n</$select>\n<$list filter=\"[[$:/tags/Favorites/Manager/FilterButton]tagging[]!is[draft]]\">{{}}</$list>\n</div>\n\n<div class=tc-search-results>\n<<lingo Filter/Matches>>\n<$reveal type=nomatch text={{{[subfilter<selectionFilter>count[]]}}}default=0>\n<$list filter=<<selectionFilter>>template=\"$:/core/ui/ListItemTemplate\"/>\n</$reveal>\n"},"$:/plugins/kookma/favorites/manager/tabs/folders":{"caption":"Folders","tags":"$:/tags/Favorites/Manager","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import [[$:/tags/Favorites/Macro/Folder]tagging[]]\nCreate, delete, rename, and rearrange folders\n\n{{||$:/plugins/kookma/favorites/templates/ui-folder-create}}<!---->\n{{||$:/plugins/kookma/favorites/templates/ui-folder-reorder}}\n\n<$let fv-config-buttons=yes>\n<$transclude tiddler=\"$:/plugins/kookma/favorites/templates/ui-folder-tree\"field=text/>\n</$let>\n"},"$:/plugins/kookma/favorites/manager/tabs/search":{"caption":"Search","list-after":"$:/plugins/kookma/favorites/manager/tabs/folders","tags":"$:/tags/Favorites/Manager","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import $:/plugins/kookma/favorites/macros/combo-search\nSearch in favorites list (use filter or standard search)\n\n<<combo-search favorites>>"},"$:/plugins/kookma/favorites/readme":{"type":"text/vnd.tiddlywiki","text":"; Favorites\nA favorite item also called a bookmark is a shortcut, you are creating for quick access to it. You can access that bookmark at any time and view that as many times as you want without having to search and find it again.\n\nFavorites plugin is a set of tool for creating favorites (bookmarks) in Tiddlywiki. Each favorite item is a shortcut to a tiddler. Favorites can be organized in folders.\n\n;Code and demo\nFor learning plugin features, syntax, tutorial and examples see the plugin demo and code pages\n\n* Demo: https://kookma.github.io/TW-Favorites/\n* Code: https://github.com/kookma/TW-Favorites"},"$:/plugins/kookma/favorites/styles/dynamic":{"tags":"$:/tags/Stylesheet","type":"text/vnd.tiddlywiki","text":"/* skin */\n.kk-fav-row:hover {\n\tbackground-color: <<colour table-header-background>>;\n}\n.kk-fav-row .tc-btn-invisible svg\n{\n\tfont-size: 0.9em;\n\tfill: <<colour muted-foreground>>;\n\tvertical-align: middle;\n\tmargin-right:0.5em;\n}\n.kk-fav-folder-content .tc-btn-invisible.tc-btn-mini svg {\n\tfont-size: 0.7em;\n\tfill: <<colour muted-foreground>>;\n\tvertical-align: middle;\n\n}\n\n/* for manager btn */\n.tc-btn-invisible.kk-fav-btn{\n\tcolor: <<colour muted-foreground>>;\n}\n.tc-btn-invisible.kk-fav-btn svg{\n\tfill:  <<colour muted-foreground>>;\n}\n\n/* very important: style the favorite icon on tiddler view toolbar */\n.tc-tiddler-controls .notselected .tc-image-favorites-button {\n\tstroke:#000;\n}\n\n.tc-tiddler-controls .selected .tc-image-favorites-button {\n\tstroke: {{$:/config/favorites/IconColor}};\n\tfill:   {{$:/config/favorites/IconColor}};\n}\n\n.tc-tiddler-controls:hover .selected .tc-image-favorites-button {\n\tstroke: {{$:/config/favorites/IconColor}};\n\tfill:   {{$:/config/favorites/IconColor}};\n}"},"$:/plugins/kookma/favorites/styles/folder":{"text":".kk-fav-row{display:flex;width:100%;flex-wrap:nowrap}.kk-fav-row div.kk-fav-input-textbox{flex-grow:1;margin-right:8px;width:100%}.kk-fav-row .kk-fav-input-textbox .kk-fav-input{width:100%;outline:0;border:0;border-bottom:1px dotted grey;background:transparent}.kk-fav-row .kk-fav-input-textbox .kk-fav-inpu:focus{outline:0;border-bottom:1px solid #5778d8;background:transparent}.kk-fav-row button.tc-btn-invisible{outline:0}.kk-fav-title{font-weight:600}.kk-fav-title svg{height:1em;width:1em;vertical-align:middle}.kk-fav-row .kk-fav-title{width:100%}.kk-fav-row input[type=\"radio\"]{width:.7em;height:.7em;vertical-align:middle}label.kk-fav-label{flex-shrink:0;width:120px}.kk-fav-folder-content{padding-left:20px}.kk-fav-item svg{height:1em;width:1em;vertical-align:middle}.tc-btn-invisible.kk-fav-btn-mini svg{width:.8em;height:.8em;vertical-align:middle}.tc-btn-invisible.kk-fav-btn-mini{margin-right:.5em}.kk-fav-folder-reorder{margin-top:15px;margin-bottom:15px}.kk-fav-folder-reorder button{align-self:flex-start;flex-shrink:0;margin-left:4px}.kk-fav-folder-reorder button svg.tc-image-button{width:.7em;height:.7em}.kk-fav-frozen-tab .kk-fav-close-btn{display:none}","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/favorites/styles/misc":{"text":".kk-fav-select{display:inline-block;width:320px}.tc-btn-invisible.kk-fav-btn{opacity:.5}.tc-btn-invisible.kk-fav-btn:hover{opacity:1.0}.tc-btn-invisible.kk-fav-btn .tc-image-fold{height:.9em;vertical-align:bottom}.kk-fav-btn .tc-image-refresh-button{vertical-align:middle;width:1.1em;height:1.1em}input.kk-fv-color-input[type=\"color\"]{-webkit-appearance:none;border:0;width:40px;height:20px}.kk-fav-left-gap{margin-left:8px}label.kk-fav-label{display:inline-block;width:210px;margin-bottom:.4em}.kk-fav-input{width:120px}details.kk-fav-details>summary{padding-left:0}","tags":"$:/tags/Stylesheet","type":"text/css"},"$:/plugins/kookma/favorites/templates/export-bundle":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$let timeStamp=<<now YYYY0MM0DD0hh0mm0ssXXX>>folderName={{{[<timeStamp>addprefix[/f-]addprefix<folderpath>]}}}>\n[<$list filter=<<exportFilter>>><$text text=<<jsontiddler>>/>,</$list>\n{\n    \"created\":\"<<timeStamp>>\",\n    \"exported-from\":\"{{$:/SiteTitle}}\",\n    \"tags\":\"<<foldertags>>\",\n    \"title\":\"<<folderName>>\",\n    \"caption\":\"<<foldercaption>>\",\n    \"list\":\"{{{[subfilter<exportFilter>format:titlelist[]join[ ]]}}}\"\n}\n]"},"$:/plugins/kookma/favorites/templates/folder-clear-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$list filter=\"[<tempFolderTextEdit>get[text]minlength[1]nth[]]\"variable=null>\n<$button tooltip=\"cancel rename folder\"class=\"tc-btn-invisible kk-fav-btn-mini\"actions=<<rename-cancel-actions>>>{{$:/core/images/close-button}}</$button>\n"},"$:/plugins/kookma/favorites/templates/folder-delete-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$button actions=<<folder-delete-actions>>class=tc-btn-invisible>\n{{$:/core/images/delete-button}}\n</$button>\n"},"$:/plugins/kookma/favorites/templates/folder-rename-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$reveal stateTitle=<<stateFolderEdit>>type=nomatch text=edit>\n<$button class=tc-btn-invisible setTitle=<<stateFolderEdit>>setTo=edit>{{$:/core/images/edit-button}}\n<$action-setfield $tiddler=<<tempFolderTextEdit>>$value={{{[<currentFolder>get[caption]]}}}$field=text/>\n</$button>\n</$reveal>\n<$reveal stateTitle=<<stateFolderEdit>>type=match text=edit>\n<$button actions=<<rename-perform-actions>>disabled={{{[<tempFolderTextEdit>get[text]trim[]minlength[1]then[no]else[yes]]}}}class=tc-btn-invisible>{{$:/core/images/done-button}}</$button>\n"},"$:/plugins/kookma/favorites/templates/folder-reorder-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\define check-actions()\n<$set filter=\"[<foldertagTid>tagging[]]-[<recentlyAdded>]\"name=order>\n<$action-listops $tiddler=<<foldertagTid>>$filter=\"+[enlist<order>]\"$field=list>\n</$set>\n\\end\n<$radio tiddler=<<tempreorderTid>>field=text value=<<currentFolder>>actions=<<check-actions>>class=kk-fav-btn-radio/>"},"$:/plugins/kookma/favorites/templates/folder-title-edit":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<div class=kk-fav-input-textbox>\n<!---->\n<!---->\n<$reveal stateTitle=<<stateFolderEdit>>type=nomatch text=edit tag=div class=kk-fav-title>\n<$droppable actions=<<drop-actions>>enable=<<tv-enable-drag-and-drop>>>\n<$let tv-wikilinks=no>\n<$transclude tiddler=<<currentFolder>>field=caption>\n<$transclude tiddler=<<currentFolder>>field=title/>\n</$transclude>\n</$let>\n</$droppable>\n</$reveal>\n<!---->\n<$reveal stateTitle=<<stateFolderEdit>>type=match text=edit tag=div>\n<$keyboard actions=<<rename-perform-actions>>key=enter>\n<$keyboard actions=<<rename-cancel-actions>>key=escape>\n<$edit-text tiddler=<<tempFolderTextEdit>>field=text tag=input default={{{[<currentFolder>get[caption]]}}}placeholder=\"enter a folder title\"focus=yes class=kk-fav-input/>\n</$keyboard>\n</$keyboard>\n</$reveal>\n"},"$:/plugins/kookma/favorites/templates/folder-title-view":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<div class=kk-fav-title>\n<$droppable actions=<<drop-actions>>enable=<<tv-enable-drag-and-drop>>tag=div>\n<$let tv-wikilinks=no>\n<$transclude tiddler=<<currentFolder>>field=caption>\n<$transclude tiddler=<<currentFolder>>field=title/>\n</$transclude>\n</$let>\n</$droppable>\n"},"$:/plugins/kookma/favorites/templates/item-delete-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$button class=\"tc-btn-invisible tc-btn-mini kk-fav-close-btn\"tooltip=\"remove item from favorites\">\n{{$:/core/images/close-button}}\n<$action-listops $tiddler=<<currentFolder>>$subfilter=\"-[<currentTiddler>]\"$field=list/>\n</$button>&nbsp;"},"$:/plugins/kookma/favorites/templates/item-link-btn":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$link tooltip={{!!title}}class=kk-fav-item>\n<!---->\n<$let dispField={{{[<currentFolder>get[format]][<itemLinkTitleinTree>get[text]]:and[nth[]trim[]!is[blank]else[caption]]}}}tv-wikilinks=no>\n<$list filter='[{!!title}get<dispField>trim[]!is[blank]]:filter[<dispField>!match[title]]'emptyMessage='<$view field=title/>'variable=null>\n<$transclude field=<<dispField>>/>\n</$list>\n</$let>\n</$link><br>"},"$:/plugins/kookma/favorites/templates/list-item":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<$droppable actions=<<drop-actions>>enable=<<tv-enable-drag-and-drop>>tag=div><<placeholder>><$transclude tiddler=\"$:/plugins/kookma/favorites/templates/item-delete-btn\"field=text/><$transclude tiddler=\"$:/plugins/kookma/favorites/templates/item-link-btn\"field=text/>"},"$:/plugins/kookma/favorites/templates/ui-folder-create":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<div style=\"background-color: transparent;\"class=kk-fav-row>\n<label class=kk-fav-label>Add new folder:</label>\n<div class=kk-fav-input-textbox>\n<<new-fav-folder-inputbox>>\n</div>\n<<new-fav-folder-cancelButton>>\n<<new-fav-folder-addButton>>\n"},"$:/plugins/kookma/favorites/templates/ui-folder-reorder":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"<div class=\"kk-fav-row kk-fav-folder-reorder\"style=\"background-color: transparent;\">\n<label class=kk-fav-label>Rearrange folder:</label>\n<$macrocall $name=folder-reorder/>\n"},"$:/plugins/kookma/favorites/templates/ui-folder-tree":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import [[$:/tags/Favorites/Macro/Folder]tagging[]]\n<$list filter=<<folders>>variable=currentFolder>\n<$macrocall status={{{[<currentFolder>match<recentlyAdded>then[open]else[closed]]}}}$name=fav-tree/>\n</$list>\n"},"$:/plugins/kookma/favorites/ui/buttons/add-remove":{"caption":"{{$:/plugins/kookma/favorites/images/heart}} {{$:/language/Buttons/Favorites/Caption/Add}}","description":"{{$:/language/Buttons/Favorites/Hint/Add}}","list-after":"$:/core/ui/Buttons/info","tags":"$:/tags/ViewToolbar","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\define add-this-tiddler()[[$(currentTiddler)$]]+[putfirst[]]\n\\define remove-this-tiddler()-[[$(currentTiddler)$]]\n\\define show-favorites-button(class)<$list filter='[<tv-config-toolbar-icons>match[yes]]'><span class=\"$class$\">{{$:/plugins/kookma/favorites/images/heart}}</span></$list><$list filter='[<tv-config-toolbar-text>match[yes]]'><span class=tc-btn-text><$text text={{$:/language/Buttons/Favorites/Caption/Add}}/>\n\\define btn-add-to-favorites()\n <$button tooltip={{$:/language/Buttons/Favorites/Hint/Add}}aria-label={{$:/language/Buttons/Favorites/Caption/Add}}class=<<tv-config-toolbar-class>>>\n     <$action-listops $tiddler=<<recentlyAdded>>$subfilter=<<add-this-tiddler>>$field=list/>\n\t\t <$macrocall $name=show-favorites-button class=notselected/>\n \n\\end\n\\define btn-remove-from-favorites()\n <$button tooltip={{$:/language/Buttons/Favorites/Hint/Remove}}aria-label={{$:/language/Buttons/Favorites/Caption/Remove}}class=<<tv-config-toolbar-class>>>\n     <$action-listops $tiddler={{{[subfilter<folders>contains{!!title}nth[]]}}}$subfilter=<<remove-this-tiddler>>$field=list/>\n\t\t <$macrocall $name=show-favorites-button class=selected/>\n \n\\end\n<$list filter='[{!!title}listed[]tag<foldertagTid>nth[]]'emptyMessage=<<btn-add-to-favorites>>variable=null><<btn-remove-from-favorites>>"},"$:/plugins/kookma/favorites/ui/ControlPanel/Settings":{"caption":"Favorites","tags":"$:/tags/ControlPanel/SettingsTab $:/tags/MoreSideBar","type":"text/vnd.tiddlywiki","text":"\\define checked-frozen()\n<$action-setfield $tiddler=\"$:/plugins/kookma/favorites/ui/sidebar/active-tab\"tags=\"\"/>\n<$action-setfield $tiddler=\"$:/plugins/kookma/favorites/ui/buttons/add-remove\"tags=\"\"/> \n<$action-setfield $tiddler=\"$:/state/tab/sidebar--595412856\"text=\"$:/plugins/kookma/favorites/ui/sidebar/frozen-tab\"/> \n\\end\n\\define unchecked-frozen()\n<$action-setfield $tiddler=\"$:/plugins/kookma/favorites/ui/sidebar/active-tab\"tags=\"$:/tags/SideBar\"/>\n<$action-setfield $tiddler=\"$:/plugins/kookma/favorites/ui/buttons/add-remove\"tags=\"$:/tags/ViewToolbar\"/> \n<$action-setfield $tiddler=\"$:/state/tab/sidebar--595412856\"text=\"$:/plugins/kookma/favorites/ui/sidebar/active-tab\"/> \n\\end\nThese settings let you customize the behaviour of the Favorites plugin.\n\n---\n\n;Show Favorites setting in more sidebar\n:<$checkbox tiddler=\"$:/plugins/kookma/favorites/ui/ControlPanel/Settings\" tag=\"$:/tags/MoreSideBar\"> Show setting in more sidebar</$checkbox>\n\n;Options\n:<$checkbox tiddler=\"$:/config/favorites/NewFolderPosition\" field=\"text\"\n    checked=\"yes\" unchecked=\"no\" default=\"no\"> Add new folder at the top of folders list</$checkbox>\n:<$checkbox tiddler=\"$:/config/favorites/FolderOpenOnDrop\" field=\"text\"\n    checked=\"yes\" unchecked=\"no\" default=\"no\"> Open folder on drop item</$checkbox>\n:<input type=\"checkbox\" disabled> Viewtoolbar icon color <$edit-text tiddler=\"$:/config/favorites/IconColor\" \n\tfield=\"text\" tag=\"input\" type=\"color\" class=\"kk-fv-color-input\"/>&nbsp;<$list filter=\"[[$:/config/favorites/IconColor]get[text]!match[#ff0000]]\" variable=null>\n\t<$button class=\"tc-btn-invisible kk-fav-btn\" tooltip=\"Reset viewtoolbar icon color\">{{$:/core/images/refresh-button}}\n    <$action-setfield $tiddler=\"$:/config/favorites/IconColor\" text=\"#ff0000\" />\n  </$button>\n\t</$list>\n\t \n;Freeze favorites\n:<$checkbox checkactions=<<checked-frozen>> \n   tiddler=\"$:/plugins/kookma/favorites/ui/sidebar/frozen-tab\" tag=\"$:/tags/SideBar\"\n\t checkactions=<<checked-frozen>>\n\t uncheckactions=<<unchecked-frozen>> > Enable frozen tab</$checkbox>\n\n;Shortcuts\n: <label class=\"kk-fav-label\">Expand folder, collapse other</label><$edit-text tiddler=\"$:/config/favorites/modifierkey/expand-folder\" tag=input default=\"\" placeholder=\"a moifier key like ctrl\" class=\"kk-fav-input\"/> + <kbd>click</kbd>\n: <label class=\"kk-fav-label\">Open folder in story river</label><$edit-text tiddler=\"$:/config/favorites/modifierkey/open-folder\" tag=input default=\"\" placeholder=\"a moifier key like shift\" class=\"kk-fav-input\"/> + <kbd>click</kbd>\n: <label class=\"kk-fav-label\">Open folder items in story river</label><$edit-text tiddler=\"$:/config/favorites/modifierkey/open-folder-items\" tag=input default=\"\" placeholder=\"a moifier key like shift\" class=\"kk-fav-input\"/> + <kbd>click</kbd>\n: <label class=\"kk-fav-label\">Create a sidebar tab from folder</label><$edit-text tiddler=\"$:/config/favorites/modifierkey/sidebar-tab-from-folder\" tag=input default=\"\" placeholder=\"a moifier key like shift\" class=\"kk-fav-input\"/> + <kbd>click</kbd>\n\n;Hidden settings\n: [[Global setting for item link title|$:/config/favorites/ItemLinkTitle]]"},"$:/plugins/kookma/favorites/ui/manager":{"caption":"Favorites Folder Manager","type":"text/vnd.tiddlywiki","text":"<<tabs tabsList:[all[tiddlers+shadows]tag[$:/tags/Favorites/Manager]!has[draft.of]] default:$:/plugins/kookma/favorites/manager/tabs/folders explicitState:$:/state/favorites/folder-manager>>"},"$:/plugins/kookma/favorites/ui/sidebar/active-tab":{"caption":"Favorites","list-after":"$:/core/ui/SideBar/Open","tags":"$:/tags/SideBar","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import [[$:/tags/Favorites/Macro/Folder]tagging[]]\n\\define show-options()\n<$button class=\"tc-btn-invisible  kk-fav-btn\"to=\"$:/plugins/kookma/favorites/ui/manager\">\n{{$:/core/images/options-button}} Manager\n\n\\end\n\\define colapse-all()\n<$list filter=\"[prefix[$(temppath)$/slider/]!suffix<recentlyAdded>]:filter[{!!text}match[open]]:and[nth[]]\"variable=null>\n<$button class='tc-btn-invisible kk-fav-btn'tooltip='collapse all folders, open Recently added'actions='<$action-deletetiddler $filter=\"[prefix[$(temppath)$/slider/]]\"/>'>\n{{$:/core/images/fold-button}}\n</$button>\n\n\\end\n<div class=''>\n<div>\n--- &nbsp;<<show-options>>&nbsp;<<colapse-all>><p/>\n</div>\n<$transclude tiddler='$:/plugins/kookma/favorites/templates/ui-folder-tree'field=text/>\n"},"$:/plugins/kookma/favorites/ui/sidebar/frozen-tab":{"caption":"Favorites","list-after":"$:/core/ui/SideBar/Open","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import [[$:/tags/Favorites/Macro/Folder]tagging[]]\n<div class=kk-fav-frozen-tab>\n<$let tv-enable-drag-and-drop=no>\n{{||$:/plugins/kookma/favorites/templates/ui-folder-tree}}\n</$let>\n</div>\n"},"$:/plugins/kookma/favorites/ui/ViewTemplate/Folder":{"list-after":"$:/core/ui/ViewTemplate/body","tags":"$:/tags/ViewTemplate","type":"text/vnd.tiddlywiki","text":"<$reveal type=nomatch stateTitle=<<folded-state>>text=hide tag=div retain=yes animate=yes>\n<$list filter=\"[{!!title}tag[$:/tags/Favorites/Folder]]\">\n<$transclude tiddler=\"$:/plugins/kookma/favorites/viewtemplates/ui-folder-tiddler\"mode=block/>\n</$list>\n"},"$:/plugins/kookma/favorites/ui/ViewTemplate/Title":{"type":"text/vnd.tiddlywiki","text":"<h2 title={{$:/language/SystemTiddler/Tooltip}}class=tc-title><$text text={{{[{!!title}get[caption]else{!!title}]}}}/>"},"$:/plugins/kookma/favorites/viewtemplates/ui-folder-tiddler":{"code-body":"yes","type":"text/vnd.tiddlywiki","text":"\\import $:/plugins/kookma/favorites/macros/definition\n\\import $:/plugins/kookma/favorites/macros/drag-n-drop\n\\define tempInput()$:/temp/favorites/add-bulk/$(currentTiddler)$\n\\define inputFilter()[subfilter{$(tempInput)$}] :filter[is[tiddler]]\n\\define actionFilterAdd()[all[current]get[list]enlist-input[]]  [subfilter{$(tempInput)$}]\n\\define actionFilterRemove()[all[current]get[list]enlist-input[]] -[subfilter{$(tempInput)$}]\n\\define actionDeleteTemp()<$action-deletetiddler $tiddler=<<tempInput>>/>\n\\define actionAppendItems()\n<$list filter=\"[subfilter{$(tempInput)$}]\"variable=item>\n<$let oldFolder={{{[<item>listed[]tag<foldertagTid>nth[]]}}}>\n<$action-listops $tiddler=<<oldFolder>>$subfilter=\"-[<item>]\"$field=list/>\n</$let>\n</$list>\n<!---->\n<$action-listops $filter=<<actionFilterAdd>>/>\n\\end\n\\define add-remove-bulk-items()\n<$button tooltip='Append items to this folder'disabled={{{[subfilter{$(tempInput)$}has[title]nth[]then[no]else[yes]]}}}actions=<<actionAppendItems>>>\nAppend\n</$button>  \n<$button tooltip='Remove items from this folder'disabled={{{[subfilter{$(tempInput)$}has[title]nth[]then[no]else[yes]]}}}actions='<$action-listops $filter=<<actionFilterRemove>>/>'>\nRemove\n\n\\end\nAdd, remove bulk of items\n\n<div class=tc-advanced-search>\n<$keyboard actions=<<actionDeleteTemp>>key=escape>\n<$edit-text tiddler=<<tempInput>>field=text tag=input default=''placeholder='enter a filter like [tag[doc]]'type=search/>\n</$keyboard>\n<<add-remove-bulk-items>>\n</div>\n\n<details class=kk-fav-details><summary>FIltered items: <small>//<$count filter=<<inputFilter>>/> mathches//</small></summary>\n<div>\n<$list filter=<<inputFilter>>template='$:/core/ui/ListItemTemplate'/>\n</div>\n</details>\n\nContents of folder: ''{{!!caption}}''\n\n<div class=kk-fav-folder-content>\n<$let currentFolder={{!!title}}>\n<$list filter='[list<currentFolder>]'emptyMessage=<<display-folder-is-empty>>>\n{{||$:/plugins/kookma/favorites/templates/list-item}}\n</$list>\n<!---->\n<<droppable-item-after-last-item>>\n</$let>\n</div>\n"},"$:/config/favorites/modifierkey/open-folder":{"type":"text/vnd.tiddlywiki","text":"ctrl"},"$:/config/favorites/modifierkey/expand-folder":{"type":"text/vnd.tiddlywiki","text":"shift"},"$:/config/favorites/modifierkey/open-folder-items":{"type":"text/vnd.tiddlywiki","text":"alt"},"$:/config/favorites/modifierkey/sidebar-tab-from-folder":{"type":"text/vnd.tiddlywiki","text":"ctrl-shift"},"$:/config/favorites/FolderOpenOnDrop":{"type":"text/vnd.tiddlywiki","text":"yes"},"$:/favorites/folders/recent":{"caption":"Recently added","list":"","list-before":"","tags":"$:/tags/Favorites/Folder","type":"text/vnd.tiddlywiki"},"$:/config/favorites/IconColor":{"type":"text/vnd.tiddlywiki","text":"#ff0000"},"$:/config/kookma/favorites/ViewTemplateTitleFilters/Manager":{"list-before":"$:/config/ViewTemplateTitleFilters/system","tags":"$:/tags/ViewTemplateTitleFilter","type":"text/vnd.tiddlywiki","text":"[match[$:/plugins/kookma/favorites/ui/manager]then[$:/plugins/kookma/favorites/ui/ViewTemplate/Title]]"},"$:/language/Buttons/Favorites/Hint/Add":{"type":"text/vnd.tiddlywiki","text":"Add to favorites"},"$:/language/Buttons/Favorites/Hint/Remove":{"type":"text/vnd.tiddlywiki","text":"Remove from favorites"},"$:/language/Buttons/Favorites/Caption/Add":{"type":"text/vnd.tiddlywiki","text":"favorites"},"$:/language/Buttons/Favorites/Caption/Remove":{"type":"text/vnd.tiddlywiki","text":"Caption/Remove"}}}